schema: '2.0'
stages:
  preprocess:
    cmd: python -m pipelines.preprocess
    deps:
    - path: data/raw/arxiv100.csv
      hash: md5
      md5: 54b042d5ca77ce99396c968089af386c
      size: 114628396
    - path: data_processing/versioning.py
      hash: md5
      md5: fc11e9ed7ea9d5613768e1812db9e886
      size: 2911
    outs:
    - path: data/metrics/processing_metrics.json
      hash: md5
      md5: 3557a9ecec5008c267153705f2b39003
      size: 263
    - path: data/processed/v1
      hash: md5
      md5: c2c2c6c13f115d0d6b7ece580a37ea66.dir
      size: 38162643
      nfiles: 3
    - path: data/processed/v2
      hash: md5
      md5: e70093c0d0e2622ea432507f79bc3502.dir
      size: 38188788
      nfiles: 3
    - path: data/processed/v3
      hash: md5
      md5: a082086fbdcf6591be1c5f98dd5cbcf1.dir
      size: 38377142
      nfiles: 3
  validate:
    cmd: python -m pipelines.validate
    deps:
    - path: data/processed
      hash: md5
      md5: 3f3ee1765bad3b819a87d5059ff00fb1.dir
      size: 114728588
      nfiles: 10
    outs:
    - path: data/metrics/validation_report.json
      hash: md5
      md5: 31bd95c5b37bff0ec7c9835dfa6c4801
      size: 2871
  train:
    cmd: python -m pipelines.train --data_version v1 --run_experiments
    deps:
    - path: data/processed/v1
      hash: md5
      md5: c2c2c6c13f115d0d6b7ece580a37ea66.dir
      size: 38162643
      nfiles: 3
    - path: model/bert_trainer.py
      hash: md5
      md5: 240e222da1e33be15d6e93af932f843e
      size: 10240
    - path: pipelines/train.py
      hash: md5
      md5: 3e2522c42c4f8811df47b8ea5780f2f8
      size: 6897
    outs:
    - path: models/metrics/train_metrics.json
      hash: md5
      md5: 82fda9983caacd509bcb957e4f4dc799
      size: 464
  check_feedback:
    cmd: python -m pipelines.fine_tune --check_feedback
    deps:
    - path: data/feedback/user_corrections.csv
      hash: md5
      md5: c42240436fc65718453853fbebb640b3
      size: 51
    - path: model/bert_trainer.py
      hash: md5
      md5: 5a36edc57f024516fa5b12c236af93c6
      size: 10207
    - path: pipelines/fine_tune.py
      hash: md5
      md5: 45c4dd8677a0b22a7a5aa6cf741c4a51
      size: 16631
    outs:
    - path: models/metrics/feedback_fine_tune_metrics.json
      hash: md5
      md5: 6137d4053b8b5191fdc4dadac34d64f4
      size: 404
